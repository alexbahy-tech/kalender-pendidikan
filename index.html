<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalender Pendidikan SMK Negeri 1 Maluku Tengah 2025/2026</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            /* Palette dari file terbaru [cite: 607-634] */
            --bg-body: #eef2f5;
            --primary-gradient: linear-gradient(120deg, #093474 0%, #005c97 100%);
            --header-text: #ffffff;
            --table-border: #e0e0e0;
            --c-m: #ffcdd2; --t-m: #b71c1c;       
            --c-libur: #d32f2f; --t-libur: #fff;  
            --c-mpls: #00bcd4; --t-mpls: #fff;    
            --c-psg: #1565c0; --t-psg: #fff;      
            --c-rs: #7b1fa2; --t-rs: #fff;        
            --c-anbk: #2e7d32; --t-anbk: #fff;    
            --c-lk: #ef6c00; --t-lk: #fff;        
            --c-tka: #fbc02d; --t-tka: #333;      
            --c-asas: #00e5ff; --t-asas: #004d40; 
            --c-pn: #c2185b; --t-pn: #fff;        
            --c-rn: #880e4f; --t-rn: #fff;        
            --c-plhb: #4527a0; --t-plhb: #fff;    
            --c-ls: #fff176; --t-ls: #333;        
            --c-lr: #69f0ae; --t-lr: #003300;     
            --c-ukk: #424242; --t-ukk: #fff;      
            --c-phpn: #ff9800; --t-phpn: #fff;    
            --c-asat: #039be5; --t-asat: #fff;    
            --c-pkk: #616161; --t-pkk: #fff;      
            --c-las: #d4e157; --t-las: #333;      
        }

        body {
            font-family: 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-body);
            margin: 0; padding: 15px;
        }

        .container {
            max-width: 1350px;
            margin: 0 auto;
        }

        /* --- Header Modern [cite: 651-700] --- */
        .header {
            background: var(--primary-gradient);
            color: var(--header-text);
            padding: 25px;
            border-radius: 20px 20px 0 0;
            display: flex;
            align-items: center;
            gap: 30px;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .header-logo img {
            height: 100px;
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.2));
        }

        .header-text h1 {
            margin: 0; font-size: 1.8rem; font-weight: 800; letter-spacing: 1px;
        }

        .header-text p { opacity: 0.9; font-size: 0.95rem; margin-top: 5px; }

        /* Tombol Aksi */
        .header-actions {
            margin-left: auto;
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 18px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
            display: flex; align-items: center; gap: 8px;
        }

        .btn-download { background: #10b981; color: white; }
        .btn-download:hover { background: #059669; transform: translateY(-2px); }

        /* --- Tab System --- */
        .tab-nav {
            display: flex; gap: 5px; margin: 15px 0;
        }

        .tab-btn {
            padding: 12px 25px;
            border: none;
            background: rgba(0,0,0,0.05);
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            color: #455a64;
            transition: 0.3s;
        }

        .tab-btn.active {
            background: #093474;
            color: white;
        }

        /* --- Content & Table [cite: 714-747] --- */
        .card {
            background: white;
            border-radius: 0 0 20px 20px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            overflow: hidden;
            display: none;
        }

        .card.active { display: block; }

        .info-banner {
            background: #fff8e1;
            padding: 12px 25px;
            border-bottom: 1px solid #ffe082;
            font-size: 13px;
            color: #795548;
            font-weight: 600;
        }

        .table-container {
            overflow-x: auto;
            padding: 20px;
        }

        table {
            width: 100%; border-collapse: separate; border-spacing: 2px;
            min-width: 1100px;
        }

        th, td {
            text-align: center; padding: 8px 2px; font-size: 11px; border-radius: 4px;
        }

        thead th {
            background: #f8f9fa; color: #455a64; border: 1px solid #eceff1;
        }

        .col-month {
            position: sticky; left: 0; background: white; 
            z-index: 5; font-weight: bold; color: #093474;
            box-shadow: 2px 0 5px rgba(0,0,0,0.05);
        }

        /* --- Day Classes [cite: 806-826] --- */
        .day {
            height: 35px; cursor: pointer; font-weight: 600;
            transition: 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .day:hover { transform: scale(1.15); z-index: 10; box-shadow: 0 4px 10px rgba(0,0,0,0.2); }

        .m { background: var(--c-m); color: var(--t-m); }
        .lu { background: var(--c-libur); color: var(--t-libur); }
        .mpls { background: var(--c-mpls); color: var(--t-mpls); }
        .psg { background: var(--c-psg); color: var(--t-psg); }
        .rs { background: var(--c-rs); color: var(--t-rs); }
        .anbk { background: var(--c-anbk); color: var(--t-anbk); }
        .asas { background: var(--c-asas); color: var(--t-asas); }
        .plhb { background: var(--c-plhb); color: var(--t-plhb); }
        .ls { background: var(--c-ls); color: var(--t-ls); }
        .asat { background: var(--c-asat); color: var(--t-asat); }
        .las { background: var(--c-las); color: var(--t-las); }
        .eff-col { font-weight: 700; color: #0d47a1; background: #f0f4f8; }

        /* --- Legend Grid [cite: 850-865] --- */
        .legend-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 12px; padding: 25px;
        }
        .legend-item {
            display: flex; align-items: center; background: #f8fafc;
            padding: 10px; border-radius: 8px; font-size: 12px;
        }
        .legend-box {
            width: 35px; height: 22px; border-radius: 4px; margin-right: 12px;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 9px;
        }
    </style>
</head>
<body>

    <div class="container">
        <header class="header">
            <div class="header-logo">
                <img src="https://iili.io/fjX4osn.md.png" alt="Logo">
            </div>
            <div class="header-text">
                <p>PEMERINTAH PROVINSI MALUKU ‚Ä¢ SMKN 1 MALUKU TENGAH</p>
                <h1>KALENDER PENDIDIKAN</h1>
                <p>Tahun Pelajaran 2025/2026</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-download" onclick="exportPDF()">üì• Simpan PDF</button>
            </div>
        </header>

        <div class="tab-nav">
            <button class="tab-btn active" onclick="openTab(event, 'calendar')">üìÖ Jadwal Kalender</button>
            <button class="tab-btn" onclick="openTab(event, 'legend')">üìñ Keterangan Kode</button>
        </div>

        <div id="calendar" class="card active">
            <div class="info-banner" id="status-bar">
                ‚ú® Klik pada tanggal berwarna untuk melihat detail kegiatan sekolah.
            </div>
            <div class="table-container" id="capture-area">
                <table>
                    <thead>
                        <tr>
                            <th rowspan="2" class="col-month">Bulan</th>
                            <th colspan="31">Tanggal</th>
                            <th rowspan="2">HE</th>
                        </tr>
                        <tr id="date-numbers"></tr>
                    </thead>
                    <tbody id="calendar-body">
                        </tbody>
                </table>
            </div>
        </div>

        <div id="legend" class="card">
            <div class="legend-grid" id="legend-list">
                </div>
        </div>
    </div>

    <script>
        // Data Kalender Berdasarkan File [cite: 942-1168]
        const calendarData = [
            {m: 'Juli', y: '2025', he: 7, days: {6:'m', 13:'m', 14:'mpls', 15:'mpls', 16:'mpls', 17:'mpls', 18:'mpls', 19:'mpls', 20:'m', 21:'psg', 22:'psg', 23:'psg', 24:'psg', 25:'psg', 27:'m', 28:'psg', 29:'psg', 30:'rs', 31:'rs'}},
            {m: 'Agustus', y: '2025', he: 19, days: {1:'rs', 2:'rs', 3:'m', 4:'anbk', 5:'anbk', 6:'anbk', 7:'anbk', 8:'anbk', 10:'m', 11:'psg', 12:'psg', 13:'psg', 14:'psg', 15:'psg', 17:'m', 18:'lk', 19:'psg', 20:'psg', 21:'psg', 22:'psg', 24:'m', 25:'psg', 26:'psg', 27:'psg', 28:'psg', 29:'psg', 31:'m'}},
            {m: 'September', y: '2025', he: 21, days: {1:'psg', 2:'psg', 3:'psg', 4:'psg', 5:'lu', 7:'m', 8:'psg', 9:'psg', 10:'psg', 11:'psg', 12:'psg', 14:'m', 15:'psg', 16:'psg', 17:'psg', 18:'psg', 19:'psg', 21:'m', 22:'psg', 23:'psg', 24:'psg', 25:'psg', 26:'psg', 28:'m', 29:'psg', 30:'psg'}},
            {m: 'Oktober', y: '2025', he: 23, days: {1:'psg', 2:'psg', 3:'psg', 5:'m', 6:'psg', 7:'psg', 8:'psg', 9:'psg', 10:'psg', 12:'m', 13:'psg', 14:'psg', 15:'psg', 16:'psg', 17:'psg', 19:'m', 20:'psg', 21:'psg', 22:'psg', 23:'psg', 24:'psg', 26:'m', 27:'psg', 28:'psg', 29:'psg', 30:'psg', 31:'psg'}},
            {m: 'November', y: '2025', he: 15, days: {2:'m', 3:'tka', 4:'tka', 5:'tka', 6:'tka', 7:'tka', 8:'tka', 9:'m', 10:'psg', 11:'psg', 12:'psg', 13:'psg', 14:'psg', 16:'m', 17:'psg', 18:'psg', 19:'psg', 20:'psg', 21:'psg', 23:'m', 24:'psg', 25:'psg', 26:'psg', 27:'psg', 28:'psg', 30:'m'}},
            {m: 'Desember', y: '2025', he: '-', days: {1:'asas', 2:'asas', 3:'asas', 4:'asas', 5:'asas', 7:'m', 8:'asas', 9:'asas', 10:'pn', 11:'pn', 12:'pn', 14:'m', 15:'psg', 16:'pn', 17:'rn', 19:'plhb', 21:'m', 22:'ls', 23:'ls', 24:'ls', 25:'lu', 26:'ls', 28:'m', 29:'ls', 30:'ls', 31:'ls'}},
            {m: 'Januari', y: '2026', he: 19, days: {1:'lu', 2:'ls', 4:'m', 11:'m', 17:'lu', 18:'m', 25:'m'}},
            {m: 'Februari', y: '2026', he: 16, days: {1:'m', 8:'m', 15:'m', 16:'lr', 17:'lu', 18:'lr', 19:'lr', 20:'lr', 22:'m'}},
            {m: 'Maret', y: '2026', he: 17, days: {1:'m', 2:'ukk', 3:'ukk', 4:'ukk', 8:'m', 15:'m', 16:'lr', 17:'lr', 18:'lr', 19:'lu', 20:'lu', 21:'lu', 22:'m', 29:'m'}},
            {m: 'April', y: '2026', he: 21, days: {3:'lu', 5:'m', 12:'m', 19:'m', 26:'m'}},
            {m: 'Mei', y: '2026', he: 18, days: {1:'lu', 2:'phpn', 3:'m', 10:'m', 14:'lu', 17:'m', 24:'m', 31:'lu'}},
            {m: 'Juni', y: '2026', he: '-', days: {1:'lu', 2:'asat', 3:'asat', 4:'asat', 5:'asat', 7:'m', 8:'asat', 9:'asat', 10:'pn', 11:'pn', 12:'pn', 14:'m', 15:'pn', 16:'pn', 17:'lu', 18:'pkk', 21:'m', 22:'plhb', 23:'las', 24:'las', 25:'las', 26:'las', 27:'las', 28:'m', 29:'las', 30:'las'}}
        ];

        const labels = {
            m: 'Hari Minggu', lu: 'Libur Umum', mpls: 'Masa Pengenalan Lingkungan Sekolah',
            psg: 'Pendidikan Sistem Ganda', rs: 'Rapat Kerja Sekolah', anbk: 'Asesmen Nasional (ANBK)',
            tka: 'Tes Kemampuan Akademik', asas: 'Asesmen Sumatif Akhir Semester (ASAS)',
            pn: 'Persiapan Data Nilai', rn: 'Rapat Penentuan Nilai', plhb: 'Pembagian Rapor (PLHB)',
            ls: 'Libur Semester', lr: 'Libur Ramadhan', ukk: 'Uji Kompetensi Keahlian (UKK)',
            phpn: 'Hari Pendidikan Nasional', asat: 'Asesmen Sumatif Akhir Tahun (ASAT)',
            pkk: 'Rapat Kenaikan Kelas', las: 'Libur Akhir Semester'
        };

        // Render Angka Tanggal (1-31)
        const dateHeader = document.getElementById('date-numbers');
        for(let i=1; i<=31; i++) {
            dateHeader.innerHTML += `<th>${i}</th>`;
        }

        // Render Baris Kalender
        const tbody = document.getElementById('calendar-body');
        calendarData.forEach(row => {
            let tr = `<tr><td class="col-month">${row.m} ${row.y ? `<br><small>${row.y}</small>` : ''}</td>`;
            for(let i=1; i<=31; i++) {
                const type = row.days[i] || '';
                const displayType = type.toUpperCase();
                const tooltip = labels[type] || '';
                
                tr += `<td class="day ${type}" 
                           onclick="showInfo('${tooltip}', '${row.m} ${i}')" 
                           title="${tooltip}">
                           ${type ? displayType : i}
                       </td>`;
            }
            tr += `<td class="eff-col">${row.he}</td></tr>`;
            tbody.innerHTML += tr;
        });

        // Render Legenda
        const legList = document.getElementById('legend-list');
        Object.keys(labels).forEach(key => {
            legList.innerHTML += `
                <div class="legend-item">
                    <div class="legend-box ${key}">${key.toUpperCase()}</div>
                    <span>${labels[key]}</span>
                </div>`;
        });

        function showInfo(text, date) {
            const bar = document.getElementById('status-bar');
            if(text) {
                bar.innerHTML = `üìç <strong>${date}:</strong> ${text}`;
                bar.style.background = "#e8f5e9";
                bar.style.color = "#2e7d32";
            } else {
                bar.innerHTML = `üìÖ <strong>${date}:</strong> Hari Belajar Efektif`;
                bar.style.background = "#e3f2fd";
                bar.style.color = "#0d47a1";
            }
        }

        function openTab(evt, tabName) {
            document.querySelectorAll('.card').forEach(c => c.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            evt.currentTarget.classList.add('active');
        }

        function exportPDF() {
            const element = document.getElementById('capture-area');
            const opt = {
                margin: 0.2,
                filename: 'Kalender_Pendidikan_SMKN1_Malteng_25-26.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'a4', orientation: 'landscape' }
            };
            html2pdf().set(opt).from(element).save();
        }
    </script>
</body>
</html>
